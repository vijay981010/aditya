<!-- include header -->
<%- include('../../include/_header') %>
<!-- /include header -->

<!-- include header -->
<%- include('../../include/_navbar') %>
<!-- /include header -->
<div class="container">
    <div class="row justify-content-center">                 
        <div class="col-lg-12">
          <div class="card shadow-lg border-0 rounded-lg mt-5 mb-5">
            <form action = '/orders/add' method = "post">
              <div class="card-header">
                  <h3 class="text-center font-weight-light my-4">Add Order</h3>
              </div>

              <div class="card-body">                  
                    <div class="row">
                        <div class="col-md-4">                            
                            <div class="form-group">                                                               
                                <label for="bookingDate">Booking Date<span>*</span></label>                                                                               
                                <input class="form-control" name = "bookingDate" id="inputDate" required/>                            
                            </div>
                        </div>
                        <% if(user.role == "admin"){ %>
                            <div class="col-md-4">
                                <div class="form-group">                                    
                                    <label for="consignorReference">Consignor Reference<span>*</span></label>
                                    <select class ="form-select" name = "client_id" required >
                                        <option value="">---Select Client---</option>
                                        <% clientlist.forEach(client => { %>
                                            <option value="<%= client._id %>"><%= client.username %></option>
                                        <% }) %>                                        
                                    </select>                                
                                </div> 
                            </div>
                            <% if(user.accessRight.indexOf('services') != -1) { %>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="service">Service<span>*</span></label>
                                        <select class ="form-select" name = "service" required >
                                            <option value="">---Select Service---</option>
                                            <% if(user.role == "admin") { 
                                                serviceList.forEach(service => { %>
                                                    <option value="<%= service._id %>"><%= service.serviceName %></option>
                                                <% })
                                            }else if(user.role == "client"){ 
                                                displayNames.forEach(name => { %>
                                                    <option value="<%= name %>"><%= name %></option>
                                               <% })
                                            } %>
                                                                                    
                                        </select>                                
                                    </div> 
                                </div>
                            <% }else{ %>
                                <input type="hidden" name="service" value="<%= user.defaultService %>">
                            <% } %>
                        <% }else if(user.role == "client"){ %>
                            <input type="hidden" name="client_id" value="<%= user._id %>">
                            <% if(adminUser.accessRight.indexOf('services') != -1) { %>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="service">Service<span>*</span></label>
                                        <select class ="form-select" name = "service" required >
                                            <option value="">---Select Service---</option>
                                            <% if(user.role == "admin") { 
                                                serviceList.forEach(service => { %>
                                                    <option value="<%= service._id %>"><%= service.serviceName %></option>
                                                <% })
                                            }else if(user.role == "client"){ 
                                                displayNames.forEach(name => { %>
                                                    <option value="<%= name %>"><%= name %></option>
                                               <% })
                                            } %>
                                                                                    
                                        </select>                                
                                    </div> 
                                </div>
                            <% }else{ %>
                                <input type="hidden" name="service" value="<%= adminUser.defaultService %>">
                            <% }
                        } %>
                    <% if(user.username == 'eps'){ %>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="awbNumber">AWB Reference Number (Optional)</label>                                                                               
                                <input class="form-control" name = "awbRefNumber" type="text"/>                            
                            </div>
                        </div>
                    <% } %>                                                                                            
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h3 class="text-center font-weight-light my-4">Consignor</h3>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="consignor">Name<span>*</span></label>                                                                               
                                                <input class="form-control" name = "consignor" type="text" required/>                            
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="origin">Origin<span>*</span></label>
                                                <select class ="form-select" name = "origin" required>
                                                    <option value="">---Select Origin---</option>
                                                    <% countries.forEach(country => { %>
                                                        <option value="<%= country.name %>"><%= country.name %></option>
                                                    <% }) %>                                                    
                                                </select>                                
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="consignorContactNumber">Contact Number<span>*</span></label>                                                                               
                                                <input class="form-control" name = "consignorContactNumber" type="text" required/>                            
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="consignorEmail">Email</label>
                                                <input class="form-control" name = "consignorEmail" type="text" />                                                      
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="consignorAddress1">Address 1<span>*</span></label>                                                                                                                 
                                                <textarea class="form-control" name="consignorAddress1" required></textarea>                          
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="consignorAddress2">Address 2<span>*</span></label>
                                                <textarea class="form-control" name="consignorAddress2" required></textarea>                                                      
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label for="consignorPincode">Pincode<span>*</span></label>                                                                                                                 
                                                <input class="form-control" name="consignorPincode" type="text" required/>                         
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label for="consignorCity">City<span>*</span></label>
                                                <input class="form-control" name="consignorCity" type="text" required/>                                                      
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label for="consignorCity">State<span>*</span></label>
                                                <input class="form-control" name="consignorState" type="text" required/>                                                      
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="docType">Document Type<span>*</span></label>                                                                                                                 
                                                <select class="form-select" name="docType" required>
                                                    <option value="">---Select Document Type---</option>
                                                    <option value="Aadhaar Number">Aadhaar Number</option>
                                                    <option value="GSTIN (Normal)">GSTIN (Normal)</option>
                                                    <option value="PAN Number">PAN Number</option>
                                                    <option value="Passport Number">Passport Number</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="docNumber">Document Number<span>*</span></label>
                                                <input class="form-control" name="docNumber" type="text" required>                                                    
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h3 class="text-center font-weight-light my-4">Consginee</h3>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="consignee">Name<span>*</span></label>                                                                               
                                                <input class="form-control" name = "consignee" type="text" required/>                            
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="destination">Destination<span>*</span></label>
                                                <select class ="form-select" name = "destination" required>
                                                    <option value="">---Select Destination---</option>
                                                    <% countries.forEach(country => { %>
                                                        <option value="<%= country.name %>"><%= country.name %></option>
                                                    <% }) %>
                                                </select>                                
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="consigneeContactNumber">Contact Number<span>*</span></label>                                                                               
                                                <input class="form-control" name = "consigneeContactNumber" type="text" required/>                            
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="consigneeEmail">Email</label>
                                                <input class="form-control" name = "consigneeEmail" type="text" />                                                      
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="consigneeAddress1">Address 1<span>*</span></label>                                                                                                                 
                                                <textarea class="form-control" name="consigneeAddress1" required></textarea>                          
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="consigneeAddress2">Address 2<span>*</span></label>
                                                <textarea class="form-control" name="consigneeAddress2" required></textarea>                                                      
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label for="consigneePincode">Pincode<span>*</span></label>                                                                                                                 
                                                <input class="form-control" name="consigneePincode" type="text" required/>                         
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label for="consigneeCity">City<span>*</span></label>
                                                <input class="form-control" name="consigneeCity" type="text" required/>                                                      
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label for="consigneeCity">State<span>*</span></label>
                                                <input class="form-control" name="consigneeState" type="text" required/>                                                      
                                            </div>
                                        </div>
                                    </div>                                    
                                </div>
                            </div>
                        </div>
                    </div>                  
                </div>

              <div class="card-footer">
                    <div class="row">
                        <div class="col-md-12 text-center">
                            <button type="submit" class="btn btn-primary">Submit</button>
                        </div>
                    </div>                
              </div>  
            </form>             
          </div>            
        </div>          
    </div>
</div>




<!-- include footer -->
<%- include('../../include/_footer') %>
<!-- /include footer -->